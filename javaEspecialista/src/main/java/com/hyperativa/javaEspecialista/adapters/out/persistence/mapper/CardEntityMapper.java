package com.hyperativa.javaEspecialista.adapters.out.persistence.mapper;

import java.util.UUID;

import com.hyperativa.javaEspecialista.adapters.out.persistence.entity.CardEntity;
import com.hyperativa.javaEspecialista.domain.model.Card;

@org.springframework.stereotype.Component
public class CardEntityMapper {

    public CardEntity toEntity(Card card) {
        return new CardEntity(
                null, // ID generated by DB
                card.getUuid().toString(),
                card.getCardHash(),
                card.getEncryptedCard(),
                card.getEncryptionIv(),
                card.getEncryptionTag(),
                card.getCreatedAt());
    }

    public Card toDomain(CardEntity entity) {
        return new Card(
                UUID.fromString(entity.getUuid()),
                entity.getCardHash(),
                entity.getEncryptedCard(),
                entity.getEncryptionIv(),
                entity.getEncryptionTag(),
                entity.getCreatedAt());
    }

}
