package com.hyperativa.javaEspecialista.audit.adapters.out.persistence.entity;

import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.*;

class AuditLogEntityTest {

    @Test
    void shouldCreateAndRetrieveValues() {
        String userId = "user1";
        String action = "LOGIN";
        String resourceId = "123";
        String ip = "127.0.0.1";
        String result = "SUCCESS";
        String details = "details";

        AuditLogEntity entity = new AuditLogEntity(userId, action, resourceId, ip, result, details);

        assertEquals(userId, entity.getUserId());
        assertEquals(action, entity.getAction());
        assertEquals(resourceId, entity.getResourceId());
        assertEquals(ip, entity.getIpAddress());
        assertEquals(result, entity.getResult());
        assertEquals(details, entity.getDetails());
        assertNotNull(entity.getTimestamp());
        assertNull(entity.getId()); // ID is generated by DB

        // Coverage for no-args constructor
        AuditLogEntity empty = new AuditLogEntity();
        assertNull(empty.getUserId());
    }
}
